import { createContext, useContext } from 'react';

export type Language = 'th' | 'en';

// Complete Thai and English translations
export const strings = {
  th: {
    // Common Actions
    'common.save': 'บันทึก',
    'common.cancel': 'ยกเลิก',
    'common.confirm': 'ยืนยัน',
    'common.delete': 'ลบ',
    'common.edit': 'แก้ไข',
    'common.search': 'ค้นหา',
    'common.back': 'กลับ',
    'common.close': 'ปิด',
    'common.loading': 'กำลังโหลด...',
    'common.error': 'เกิดข้อผิดพลาด',
    'common.success': 'สำเร็จ',
    'common.noData': 'ไม่มีข้อมูล',
    'common.retry': 'ลองใหม่',
    'common.next': 'ถัดไป',
    'common.previous': 'ก่อนหน้า',
    'common.skip': 'ข้าม',

    // Dashboard
    'dashboard.welcome': 'ยินดีต้อนรับ',
    'dashboard.totalCards': 'บัตรทั้งหมด',
    'dashboard.totalMembers': 'สมาชิกทั้งหมด',
    'dashboard.totalBalance': 'ยอดคงเหลือทั้งหมด',
    'dashboard.quickScan': 'สแกนด่วน',
    'dashboard.recentActivity': 'กิจกรรมล่าสุด',
    'dashboard.nfcTools': 'เครื่องมือ NFC',
    'dashboard.statistics': 'สถิติ',
    'dashboard.activeMembers': 'สมาชิกที่ใช้งาน',
    'dashboard.pendingTransactions': 'รอการประมวลผล',

    // Card Management
    'cards.cardManagement': 'จัดการบัตร',
    'cards.allCards': 'บัตรทั้งหมด',
    'cards.activeCards': 'บัตรที่ใช้งาน',
    'cards.disabledCards': 'บัตรที่ปิดใช้งาน',
    'cards.registerCard': 'ลงทะเบียนบัตร',
    'cards.cardDetail': 'รายละเอียดบัตร',
    'cards.enable': 'เปิดใช้งาน',
    'cards.disable': 'ปิดใช้งาน',
    'cards.markLost': 'ทำเครื่องหมายว่าหาย',
    'cards.addBalance': 'เพิ่มยอดคงเหลือ',
    'cards.balance': 'ยอดคงเหลือ',
    'cards.pvPoints': 'คะแนน PV',
    'cards.cardUID': 'UID บัตร',
    'cards.cardType': 'ประเภทบัตร',
    'cards.status': 'สถานะ',
    'cards.registeredAt': 'ลงทะเบียนเมื่อ',
    'cards.lastUsed': 'ใช้ครั้งล่าสุดเมื่อ',
    'cards.linkedMember': 'สมาชิกที่เชื่อมโยง',
    'cards.notes': 'หมายเหตุ',
    'cards.cardStatus': {
      'active': 'ใช้งาน',
      'disabled': 'ปิดใช้งาน',
      'lost': 'หาย',
    },

    // Member Management
    'members.memberManagement': 'จัดการสมาชิก',
    'members.allMembers': 'สมาชิกทั้งหมด',
    'members.addMember': 'เพิ่มสมาชิก',
    'members.memberDetail': 'รายละเอียดสมาชิก',
    'members.linkedCards': 'บัตรที่เชื่อมโยง',
    'members.digitalBusinessCard': 'บัตรนามธุรกิจดิจิทัล',
    'members.share': 'แชร์',
    'members.name': 'ชื่อ',
    'members.phone': 'เบอร์โทรศัพท์',
    'members.email': 'อีเมล',
    'members.position': 'ตำแหน่ง',
    'members.company': 'บริษัท',
    'members.photo': 'รูปภาพ',
    'members.rank': 'อันดับ',
    'members.affiliateCode': 'รหัสพันธมิตร',
    'members.affiliateUrl': 'URL พันธมิตร',
    'members.joinDate': 'วันที่เข้าร่วม',
    'members.totalCards': 'บัตรทั้งหมด',
    'members.totalBalance': 'ยอดคงเหลือทั้งหมด',
    'members.totalTransactions': 'รายการทั้งหมด',
    'members.noCards': 'ไม่มีบัตรที่เชื่อมโยง',

    // Payment & Transactions
    'payment.paymentTest': 'ทดสอบการชำระเงิน',
    'payment.testMode': 'โหมดทดสอบ',
    'payment.tapToPay': 'แตะเพื่อชำระเงิน',
    'payment.enterAmount': 'ป้อนจำนวนเงิน',
    'payment.processing': 'กำลังประมวลผล...',
    'payment.paymentSuccess': 'ชำระเงินสำเร็จ',
    'payment.paymentFailed': 'การชำระเงินล้มเหลว',
    'payment.remainingBalance': 'ยอดคงเหลือ',
    'payment.pvEarned': 'คะแนน PV ที่ได้รับ',
    'payment.transactionHistory': 'ประวัติรายการ',
    'payment.transactionDetails': 'รายละเอียดรายการ',
    'payment.transactionDate': 'วันที่รายการ',
    'payment.transactionType': 'ประเภทรายการ',
    'payment.transactionAmount': 'จำนวนเงิน',
    'payment.balanceBefore': 'ยอดคงเหลือก่อน',
    'payment.balanceAfter': 'ยอดคงเหลือหลัง',
    'payment.noTransactions': 'ไม่มีรายการ',
    'payment.filterByType': 'กรองตามประเภท',
    'payment.allTransactions': 'ทั้งหมด',
    'payment.paymentTransactions': 'ชำระเงิน',
    'payment.topupTransactions': 'เติมเงิน',
    'payment.refundTransactions': 'คืนเงิน',

    // NFC Operations
    'nfc.readCard': 'อ่านบัตร',
    'nfc.writeCard': 'เขียนบัตร',
    'nfc.cloneCard': 'โคลนบัตร',
    'nfc.hexView': 'มุมมองเลขฐานสิบหก',
    'nfc.scanning': 'กำลังสแกน...',
    'nfc.tapCard': 'แตะบัตร NFC',
    'nfc.writeSuccess': 'เขียนบัตรสำเร็จ',
    'nfc.cloneSuccess': 'โคลนบัตรสำเร็จ',
    'nfc.readSuccess': 'อ่านบัตรสำเร็จ',
    'nfc.tagInfo': 'ข้อมูลป้าย',
    'nfc.tagType': 'ประเภทป้าย',
    'nfc.tagSize': 'ขนาดป้าย',
    'nfc.tagUID': 'UID ป้าย',
    'nfc.ndefRecords': 'บันทึก NDEF',
    'nfc.noRecords': 'ไม่มีบันทึก',
    'nfc.recordType': 'ประเภทบันทึก',
    'nfc.recordData': 'ข้อมูลบันทึก',
    'nfc.writable': 'เขียนได้',
    'nfc.readonly': 'อ่านอย่างเดียว',
    'nfc.sourceTag': 'ป้ายต้นฉบับ',
    'nfc.targetTag': 'ป้ายเป้าหมาย',
    'nfc.readingSource': 'กำลังอ่านต้นฉบับ...',
    'nfc.waitingForTarget': 'รอป้ายเป้าหมาย...',
    'nfc.writingData': 'กำลังเขียนข้อมูล...',

    // Settings
    'settings.settings': 'การตั้งค่า',
    'settings.language': 'ภาษา',
    'settings.thai': 'ไทย',
    'settings.english': 'อังกฤษ',
    'settings.apiConfig': 'ค่าตั้งค่า API',
    'settings.notifications': 'การแจ้งเตือน',
    'settings.about': 'เกี่ยวกับ',
    'settings.version': 'เวอร์ชัน',
    'settings.producedBy': 'สร้างโดย',
    'settings.pvRate': 'อัตรา PV',
    'settings.lowBalanceAlert': 'การแจ้งเตือนยอดคงเหลือต่ำ',
    'settings.enableNotifications': 'เปิดการแจ้งเตือน',
    'settings.hapticFeedback': 'ป้อนกลับแบบสั่นสะทะ',
    'settings.autoSaveHistory': 'บันทึกประวัติอัตโนมัติ',
    'settings.confirmBeforeWrite': 'ยืนยันก่อนเขียน',
    'settings.historyLimit': 'จำกัดประวัติ',
    'settings.apiBaseUrl': 'URL ฐาน API',
    'settings.apiKey': 'คีย์ API',
    'settings.nfcSettings': 'การตั้งค่า NFC',
    'settings.nfcDefaultKey': 'คีย์เริ่มต้น',
    'settings.clearHistory': 'ล้างประวัติ',
    'settings.clearCache': 'ล้างแคช',
    'settings.appSettings': 'การตั้งค่าแอป',

    // Notifications
    'notifications.notifications': 'การแจ้งเตือน',
    'notifications.noNotifications': 'ไม่มีการแจ้งเตือน',
    'notifications.markAllRead': 'ทำเครื่องหมายว่าอ่านแล้ว',
    'notifications.lowBalance': 'ยอดคงเหลือต่ำ',
    'notifications.cardRegistered': 'บัตรลงทะเบียน',
    'notifications.cardStatusChanged': 'สถานะบัตรเปลี่ยนแปลง',
    'notifications.paymentReceived': 'ได้รับการชำระเงิน',
    'notifications.memberRegistered': 'สมาชิกลงทะเบียน',
    'notifications.clear': 'ล้างการแจ้งเตือน',

    // Member Registration (Multi-step)
    'registration.step1Photo': 'ขั้นตอนที่ 1: ถ่ายรูป',
    'registration.step2Info': 'ขั้นตอนที่ 2: ข้อมูล',
    'registration.step3ScanCard': 'ขั้นตอนที่ 3: สแกนบัตร',
    'registration.step4Confirm': 'ขั้นตอนที่ 4: ยืนยัน',
    'registration.step5Complete': 'ขั้นตอนที่ 5: เสร็จสิ้น',
    'registration.takePhoto': 'ถ่ายรูป',
    'registration.chooseFromGallery': 'เลือกจากแกลเลอรี่',
    'registration.retakePhoto': 'ถ่ายรูปใหม่',
    'registration.fillRequiredFields': 'กรุณากรอกข้อมูลที่จำเป็น',
    'registration.scanCardInstruction': 'กรุณาแตะบัตร NFC กับอุปกรณ์',
    'registration.confirmDetails': 'กรุณายืนยันรายละเอียด',
    'registration.registrationComplete': 'ลงทะเบียนสำเร็จ',
    'registration.successMessage': 'สมาชิกถูกสร้างสำเร็จ',

    // Errors
    'error.network': 'ข้อผิดพลาดเครือข่าย',
    'error.validation': 'ข้อผิดพลาดในการตรวจสอบ',
    'error.nfcNotAvailable': 'NFC ไม่พร้อมใช้งาน',
    'error.tagNotWritable': 'ป้ายไม่สามารถเขียนได้',
    'error.writeFailed': 'การเขียนล้มเหลว',
    'error.readFailed': 'การอ่านล้มเหลว',
    'error.authenticationFailed': 'การรับรองความถูกต้องล้มเหลว',
    'error.insufficientBalance': 'ยอดคงเหลือไม่เพียงพอ',
    'error.duplicateCard': 'บัตรนี้ลงทะเบียนแล้ว',
    'error.memberNotFound': 'ไม่พบสมาชิก',
    'error.invalidData': 'ข้อมูลไม่ถูกต้อง',
    'error.timeout': 'หมดเวลา',
    'error.unknownError': 'เกิดข้อผิดพลาดที่ไม่รู้จัก',

    // Success
    'success.operationSuccess': 'ดำเนินการสำเร็จ',
    'success.cardRegistered': 'บัตรลงทะเบียนสำเร็จ',
    'success.memberRegistered': 'สมาชิกลงทะเบียนสำเร็จ',
    'success.paymentSuccess': 'ชำระเงินสำเร็จ',
    'success.balanceUpdated': 'อัปเดตยอดคงเหลือสำเร็จ',
    'success.cardUpdated': 'อัปเดตบัตรสำเร็จ',
    'success.dataSaved': 'บันทึกข้อมูลสำเร็จ',

    // Digital Business Card
    'businessCard.title': 'บัตรนามธุรกิจดิจิทัล',
    'businessCard.scanMe': 'สแกนฉัน',
    'businessCard.shareVia': 'แชร์ผ่าน',
    'businessCard.downloadQR': 'ดาวน์โหลด QR',
    'businessCard.shareProfile': 'แชร์โปรไฟล์',
    'businessCard.darkMode': 'โหมดมืด',
    'businessCard.lightMode': 'โหมดสว่าง',
    'businessCard.gradientMode': 'โหมดไล่ระดับ',

    // QR Scanner
    'qr.scanner': 'สแกน QR',
    'qr.scanCard': 'สแกน QR บัตร',
    'qr.manualInput': 'ป้อนข้อมูลเอง',
    'qr.cameraMode': 'กล้อง',
    'qr.enterQRData': 'ป้อนข้อมูล QR',
    'qr.verifying': 'กำลังตรวจสอบบัตร...',
    'qr.verified': 'ตรวจสอบบัตรสำเร็จ',
    'qr.pairing': 'กำลังจับคู่บัตร...',
    'qr.paired': 'จับคู่บัตรสำเร็จ',
    'qr.invalidQR': 'QR Code ไม่ถูกต้อง',
    'qr.expired': 'QR Code หมดอายุ',
    'qr.selectMember': 'เลือกสมาชิกเพื่อจับคู่',
    'qr.pairCard': 'จับคู่บัตร',
    'qr.demoScan': 'สแกนทดสอบ',
    'qr.cardNumber': 'หมายเลขบัตร',
    'qr.cardType': 'ประเภทบัตร',
    'qr.expiresAt': 'หมดอายุเมื่อ',
    'qr.selectMemberMessage': 'กรุณาเลือกสมาชิกจากรายการด้านล่าง',
    'qr.noMembers': 'ไม่มีสมาชิก',
    'qr.scanSuccess': 'สแกน QR สำเร็จ',
    'qr.scanFailed': 'สแกน QR ไม่สำเร็จ',
  },
  en: {
    // Common Actions
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.confirm': 'Confirm',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.search': 'Search',
    'common.back': 'Back',
    'common.close': 'Close',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.noData': 'No Data',
    'common.retry': 'Retry',
    'common.next': 'Next',
    'common.previous': 'Previous',
    'common.skip': 'Skip',

    // Dashboard
    'dashboard.welcome': 'Welcome',
    'dashboard.totalCards': 'Total Cards',
    'dashboard.totalMembers': 'Total Members',
    'dashboard.totalBalance': 'Total Balance',
    'dashboard.quickScan': 'Quick Scan',
    'dashboard.recentActivity': 'Recent Activity',
    'dashboard.nfcTools': 'NFC Tools',
    'dashboard.statistics': 'Statistics',
    'dashboard.activeMembers': 'Active Members',
    'dashboard.pendingTransactions': 'Pending Transactions',

    // Card Management
    'cards.cardManagement': 'Card Management',
    'cards.allCards': 'All Cards',
    'cards.activeCards': 'Active Cards',
    'cards.disabledCards': 'Disabled Cards',
    'cards.registerCard': 'Register Card',
    'cards.cardDetail': 'Card Details',
    'cards.enable': 'Enable',
    'cards.disable': 'Disable',
    'cards.markLost': 'Mark Lost',
    'cards.addBalance': 'Add Balance',
    'cards.balance': 'Balance',
    'cards.pvPoints': 'PV Points',
    'cards.cardUID': 'Card UID',
    'cards.cardType': 'Card Type',
    'cards.status': 'Status',
    'cards.registeredAt': 'Registered At',
    'cards.lastUsed': 'Last Used',
    'cards.linkedMember': 'Linked Member',
    'cards.notes': 'Notes',
    'cards.cardStatus': {
      'active': 'Active',
      'disabled': 'Disabled',
      'lost': 'Lost',
    },

    // Member Management
    'members.memberManagement': 'Member Management',
    'members.allMembers': 'All Members',
    'members.addMember': 'Add Member',
    'members.memberDetail': 'Member Details',
    'members.linkedCards': 'Linked Cards',
    'members.digitalBusinessCard': 'Digital Business Card',
    'members.share': 'Share',
    'members.name': 'Name',
    'members.phone': 'Phone',
    'members.email': 'Email',
    'members.position': 'Position',
    'members.company': 'Company',
    'members.photo': 'Photo',
    'members.rank': 'Rank',
    'members.affiliateCode': 'Affiliate Code',
    'members.affiliateUrl': 'Affiliate URL',
    'members.joinDate': 'Join Date',
    'members.totalCards': 'Total Cards',
    'members.totalBalance': 'Total Balance',
    'members.totalTransactions': 'Total Transactions',
    'members.noCards': 'No Linked Cards',

    // Payment & Transactions
    'payment.paymentTest': 'Payment Test',
    'payment.testMode': 'Test Mode',
    'payment.tapToPay': 'Tap to Pay',
    'payment.enterAmount': 'Enter Amount',
    'payment.processing': 'Processing...',
    'payment.paymentSuccess': 'Payment Successful',
    'payment.paymentFailed': 'Payment Failed',
    'payment.remainingBalance': 'Remaining Balance',
    'payment.pvEarned': 'PV Points Earned',
    'payment.transactionHistory': 'Transaction History',
    'payment.transactionDetails': 'Transaction Details',
    'payment.transactionDate': 'Transaction Date',
    'payment.transactionType': 'Transaction Type',
    'payment.transactionAmount': 'Amount',
    'payment.balanceBefore': 'Balance Before',
    'payment.balanceAfter': 'Balance After',
    'payment.noTransactions': 'No Transactions',
    'payment.filterByType': 'Filter by Type',
    'payment.allTransactions': 'All',
    'payment.paymentTransactions': 'Payments',
    'payment.topupTransactions': 'Top-ups',
    'payment.refundTransactions': 'Refunds',

    // NFC Operations
    'nfc.readCard': 'Read Card',
    'nfc.writeCard': 'Write Card',
    'nfc.cloneCard': 'Clone Card',
    'nfc.hexView': 'Hex View',
    'nfc.scanning': 'Scanning...',
    'nfc.tapCard': 'Tap NFC Card',
    'nfc.writeSuccess': 'Write Successful',
    'nfc.cloneSuccess': 'Clone Successful',
    'nfc.readSuccess': 'Read Successful',
    'nfc.tagInfo': 'Tag Info',
    'nfc.tagType': 'Tag Type',
    'nfc.tagSize': 'Tag Size',
    'nfc.tagUID': 'Tag UID',
    'nfc.ndefRecords': 'NDEF Records',
    'nfc.noRecords': 'No Records',
    'nfc.recordType': 'Record Type',
    'nfc.recordData': 'Record Data',
    'nfc.writable': 'Writable',
    'nfc.readonly': 'Read Only',
    'nfc.sourceTag': 'Source Tag',
    'nfc.targetTag': 'Target Tag',
    'nfc.readingSource': 'Reading Source...',
    'nfc.waitingForTarget': 'Waiting for Target...',
    'nfc.writingData': 'Writing Data...',

    // Settings
    'settings.settings': 'Settings',
    'settings.language': 'Language',
    'settings.thai': 'Thai',
    'settings.english': 'English',
    'settings.apiConfig': 'API Configuration',
    'settings.notifications': 'Notifications',
    'settings.about': 'About',
    'settings.version': 'Version',
    'settings.producedBy': 'Produced by',
    'settings.pvRate': 'PV Rate',
    'settings.lowBalanceAlert': 'Low Balance Alert',
    'settings.enableNotifications': 'Enable Notifications',
    'settings.hapticFeedback': 'Haptic Feedback',
    'settings.autoSaveHistory': 'Auto Save History',
    'settings.confirmBeforeWrite': 'Confirm Before Write',
    'settings.historyLimit': 'History Limit',
    'settings.apiBaseUrl': 'API Base URL',
    'settings.apiKey': 'API Key',
    'settings.nfcSettings': 'NFC Settings',
    'settings.nfcDefaultKey': 'NFC Default Key',
    'settings.clearHistory': 'Clear History',
    'settings.clearCache': 'Clear Cache',
    'settings.appSettings': 'App Settings',

    // Notifications
    'notifications.notifications': 'Notifications',
    'notifications.noNotifications': 'No Notifications',
    'notifications.markAllRead': 'Mark All Read',
    'notifications.lowBalance': 'Low Balance',
    'notifications.cardRegistered': 'Card Registered',
    'notifications.cardStatusChanged': 'Card Status Changed',
    'notifications.paymentReceived': 'Payment Received',
    'notifications.memberRegistered': 'Member Registered',
    'notifications.clear': 'Clear Notifications',

    // Member Registration (Multi-step)
    'registration.step1Photo': 'Step 1: Photo',
    'registration.step2Info': 'Step 2: Information',
    'registration.step3ScanCard': 'Step 3: Scan Card',
    'registration.step4Confirm': 'Step 4: Confirm',
    'registration.step5Complete': 'Step 5: Complete',
    'registration.takePhoto': 'Take Photo',
    'registration.chooseFromGallery': 'Choose from Gallery',
    'registration.retakePhoto': 'Retake Photo',
    'registration.fillRequiredFields': 'Please fill in required fields',
    'registration.scanCardInstruction': 'Please tap NFC card with device',
    'registration.confirmDetails': 'Please confirm the details',
    'registration.registrationComplete': 'Registration Complete',
    'registration.successMessage': 'Member created successfully',

    // Errors
    'error.network': 'Network Error',
    'error.validation': 'Validation Error',
    'error.nfcNotAvailable': 'NFC Not Available',
    'error.tagNotWritable': 'Tag Not Writable',
    'error.writeFailed': 'Write Failed',
    'error.readFailed': 'Read Failed',
    'error.authenticationFailed': 'Authentication Failed',
    'error.insufficientBalance': 'Insufficient Balance',
    'error.duplicateCard': 'Card Already Registered',
    'error.memberNotFound': 'Member Not Found',
    'error.invalidData': 'Invalid Data',
    'error.timeout': 'Timeout',
    'error.unknownError': 'Unknown Error',

    // Success
    'success.operationSuccess': 'Operation Successful',
    'success.cardRegistered': 'Card Registered Successfully',
    'success.memberRegistered': 'Member Registered Successfully',
    'success.paymentSuccess': 'Payment Successful',
    'success.balanceUpdated': 'Balance Updated Successfully',
    'success.cardUpdated': 'Card Updated Successfully',
    'success.dataSaved': 'Data Saved Successfully',

    // Digital Business Card
    'businessCard.title': 'Digital Business Card',
    'businessCard.scanMe': 'Scan Me',
    'businessCard.shareVia': 'Share Via',
    'businessCard.downloadQR': 'Download QR',
    'businessCard.shareProfile': 'Share Profile',
    'businessCard.darkMode': 'Dark Mode',
    'businessCard.lightMode': 'Light Mode',
    'businessCard.gradientMode': 'Gradient Mode',

    // QR Scanner
    'qr.scanner': 'QR Scanner',
    'qr.scanCard': 'Scan Card QR',
    'qr.manualInput': 'Manual Input',
    'qr.cameraMode': 'Camera',
    'qr.enterQRData': 'Enter QR Data',
    'qr.verifying': 'Verifying card...',
    'qr.verified': 'Card Verified',
    'qr.pairing': 'Pairing card...',
    'qr.paired': 'Card Paired Successfully',
    'qr.invalidQR': 'Invalid QR Code',
    'qr.expired': 'QR Code Expired',
    'qr.selectMember': 'Select Member to Pair',
    'qr.pairCard': 'Pair Card',
    'qr.demoScan': 'Demo Scan',
    'qr.cardNumber': 'Card Number',
    'qr.cardType': 'Card Type',
    'qr.expiresAt': 'Expires At',
    'qr.selectMemberMessage': 'Please select a member from the list below',
    'qr.noMembers': 'No Members',
    'qr.scanSuccess': 'QR Scan Successful',
    'qr.scanFailed': 'QR Scan Failed',
  },
};

// Context for language management
export interface LanguageContextType {
  t: typeof strings.en;
  lang: Language;
  setLang: (language: Language) => Promise<void>;
}

// Export create context (will be used by LanguageContext.tsx)
export const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Hook to use language
export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within LanguageProvider');
  }
  return context;
};

// Get translation string with fallback
export const getTranslation = (language: Language, key: string): string => {
  const translation = (strings[language] as any)[key];
  if (!translation) {
    // Fallback to English
    return (strings.en as any)[key] || key;
  }
  return translation;
};
